var socket=io();socket.emit("newVisitor2");var prev_Win,banker_score=0,banker_pair=0,player_score=0,player_pair=0,tie_score=0,natural_score=0,rl=0,brd=0,cb_content=0,bottom_empty=!0;function runToptables(e){for(i=0;i<e.length;i++){var r=e[i].winner,a=e[i];"tie"==r?(tieChips(prev_Win),tie_score++,$("#tie_score").html(tie_score)):r==prev_Win?("banker"==r?(bankerInside(),prev_Win=r,banker_score++,$("#banker_score").html(banker_score)):"player"==r&&(playerInside(),prev_Win=r,player_score++,$("#player_score").html(player_score)),playerPair(a.playerPair),bankerPair(a.bankerPair)):("banker"==r?(bankerChips(),banker_score++,$("#banker_score").html(banker_score),prev_Win=r,rl++):"player"==r&&(playerChips(),player_score++,$("#player_score").html(player_score),prev_Win=r,rl++),playerPair(a.playerPair),bankerPair(a.bankerPair),a.playerNatural?natural(!0):a.BankerNatural&&natural(!0)),38==rl&&($(".chips_top").html(""),$(".chips_bottom").html(""),natural_score=tie_score=player_pair=player_score=banker_pair=banker_score=0)}}function b_banker(){bottom_empty?($(".chips_bottom").append('<div class="cb_holder"><div class="chipsB"><img src="assets/images/Components/B2.png"><img class="hidden" src="assets/images/Components/bs2.png"><img class="hidden" src="assets/images/Components/ps2.png"></div></div>'),bottom_empty=!1):4<cb_content?($(".chips_bottom").append('<div class="cb_holder"><div class="chipsB"><img src="assets/images/Components/B2.png"><img class="hidden" src="assets/images/Components/bs2.png"><img class="hidden" src="assets/images/Components/ps2.png"></div></div>'),cb_content=0):($(".chips_bottom .cb_holder").last().append('<div class="chipsB"><img src="assets/images/Components/B2.png"><img class="hidden" src="assets/images/Components/Bs2.png"><img class="hidden" src="assets/images/Components/ps2.png"></div>'),cb_content++)}function b_player(){bottom_empty?($(".chips_bottom").append('<div class="cb_holder"><div class="chipsB"><img src="assets/images/Components/P2.png"><img class="hidden" src="assets/images/Components/bs2.png"><img class="hidden" src="assets/images/Components/ps2.png"></div></div>'),bottom_empty=!1):4<cb_content?($(".chips_bottom").append('<div class="cb_holder"><div class="chipsB"><img src="assets/images/Components/P2.png"><img class="hidden" src="assets/images/Components/bs2.png"><img class="hidden" src="assets/images/Components/ps2.png"></div></div>'),cb_content=0):($(".chips_bottom .cb_holder").last().append('<div class="chipsB"><img src="assets/images/Components/P2.png"><img class="hidden" src="assets/images/Components/bs2.png"><img class="hidden" src="assets/images/Components/ps2.png"></div>'),cb_content++)}function b_tie(){bottom_empty?($(".chips_bottom").append('<div class="cb_holder"><div class="chipsB"><img src="assets/images/Components/T2.png"><img class="hidden" src="assets/images/Components/bs2.png"><img class="hidden" src="assets/images/Components/ps2.png"></div></div>'),bottom_empty=!1):4<cb_content?($(".chips_bottom").append('<div class="cb_holder"><div class="chipsB"><img src="assets/images/Components/T2.png"><img class="hidden" src="assets/images/Components/bs2.png"><img class="hidden" src="assets/images/Components/ps2.png"></div></div>'),cb_content=0):($(".chips_bottom .cb_holder").last().append('<div class="chipsB"><img src="assets/images/Components/T2.png"><img class="hidden" src="assets/images/Components/bs2.png"><img class="hidden" src="assets/images/Components/ps2.png"></div>'),cb_content++)}function playerPair(e){if(e){$(".chips_top .c_holder").last().find(".chips").find(".top_chips").last().append('<div class="player_pair_dot"></div>');player_pair++,$("#player_pair").html(player_pair)}}function bankerPair(e){e&&($(".chips_top .c_holder").last().find(".chips").find(".top_chips").last().append('<div class="banker_pair_dot"></div>'),banker_pair++,$("#banker_pair").html(banker_pair))}function natural(e){e&&($(".chips_top .c_holder").last().find(".chips").find(".top_chips").last().append('<div class="natural_dot"></div>'),natural_score++,$("#natural_score").html(natural_score))}function b_playerPair(e){if(e)$(".chips_bottom .cb_holder").last().find(".chipsB").last().find("img").last().removeClass("hidden")}function b_bankerPair(e){e&&$(".chips_bottom .cb_holder").last().find(".chipsB").last().find("img").first().next().removeClass("hidden")}function tieChips(e){"player"==e?$(".chips_top .c_holder").last().append('<div class="chips"><div class="player_obj_chips top_chips"><div class="tie_line"></div></div></div>'):"banker"==e&&$(".chips_top .c_holder").last().append('<div class="chips"><div class="banker_obj_chips top_chips"><div class="tie_line"></div></div></div>')}function bankerChips(){$(".chips_top").append('<div class="c_holder"><div class="chips"><div class="banker_obj_chips top_chips"></div></div></div>')}function playerChips(){$(".chips_top").append('<div class="c_holder"><div class="chips"><div class="player_obj_chips top_chips"></div></div></div>')}function bankerInside(){$(".chips_top .c_holder").last().append('<div class="chips"><div class="banker_obj_chips top_chips"></div></div>')}function playerInside(){$(".chips_top .c_holder").last().append('<div class="chips"><div class="player_obj_chips top_chips"></div></div>')}socket.on("loadData",function(e){runToptables(e)}),socket.on("bankerWin",function(e){console.log(e);var r=e.winner;"tie"==r?(tieChips(prev_Win),b_tie(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),tie_score++,$("#tie_score").html(tie_score)):r==prev_Win?("banker"==r?(bankerInside(),b_banker(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),prev_Win=r,banker_score++,$("#banker_score").html(banker_score)):"player"==r&&(playerInside(),b_player(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),prev_Win=r,player_score++,$("#player_score").html(player_score)),playerPair(e.playerPair),bankerPair(e.bankerPair)):("banker"==r?(bankerChips(),b_banker(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),banker_score++,$("#banker_score").html(banker_score),prev_Win=r,rl++):"player"==r&&(playerChips(),b_player(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),player_score++,$("#player_score").html(player_score),prev_Win=r,rl++),playerPair(e.playerPair),bankerPair(e.bankerPair),e.playerNatural?natural(!0):e.BankerNatural&&natural(!0)),38==rl&&($(".chips_top").html(""),$(".chips_bottom").html(""),natural_score=tie_score=player_pair=player_score=banker_pair=banker_score=0)}),socket.on("tieGame",function(e){var r=e.winner;"tie"==(r=e.winner)?(tieChips(prev_Win),b_tie(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),tie_score++,$("#tie_score").html(tie_score)):r==prev_Win?("banker"==r?(bankerInside(),b_banker(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),prev_Win=r,banker_score++,$("#banker_score").html(banker_score)):"player"==r&&(playerInside(),b_player(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),prev_Win=r,player_score++,$("#player_score").html(player_score)),playerPair(e.playerPair),bankerPair(e.bankerPair)):("banker"==r?(bankerChips(),b_banker(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),banker_score++,$("#banker_score").html(banker_score),prev_Win=r,rl++):"player"==r&&(playerChips(),b_player(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),player_score++,$("#player_score").html(player_score),prev_Win=r,rl++),playerPair(e.playerPair),bankerPair(e.bankerPair),e.playerNatural?natural(!0):e.BankerNatural&&natural(!0)),38==rl&&($(".chips_top").html(""),$(".chips_bottom").html(""),natural_score=tie_score=player_pair=player_score=banker_pair=banker_score=0)}),socket.on("playerWin",function(e){var r=e.winner;"tie"==r?(tieChips(prev_Win),b_tie(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),tie_score++,$("#tie_score").html(tie_score)):r==prev_Win?("banker"==r?(bankerInside(),b_banker(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),prev_Win=r,banker_score++,$("#banker_score").html(banker_score)):"player"==r&&(playerInside(),b_player(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),prev_Win=r,player_score++,$("#player_score").html(player_score)),playerPair(e.playerPair),bankerPair(e.bankerPair)):("banker"==r?(bankerChips(),b_banker(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),banker_score++,$("#banker_score").html(banker_score),prev_Win=r,rl++):"player"==r&&(playerChips(),b_player(),b_playerPair(e.playerPair),b_bankerPair(e.bankerPair),player_score++,$("#player_score").html(player_score),prev_Win=r,rl++),playerPair(e.playerPair),bankerPair(e.bankerPair),e.playerNatural?natural(!0):e.BankerNatural&&natural(!0)),38==rl&&($(".chips_top").html(""),$(".chips_bottom").html(""),natural_score=tie_score=player_pair=player_score=banker_pair=banker_score=0)}),$("#hashbtn").click(function(){location.replace("gameHashHistory")});